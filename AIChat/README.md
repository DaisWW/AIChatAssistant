# DeepSeek聊天对话程序 v2.0

一个基于DeepSeek API的聊天对话程序，支持桌面GUI和网页两种客户端，预设为活泼可爱的小女友角色。

## 🚀 新版本特性

- 🌐 **网页客户端**：支持局域网访问，多用户同时聊天
- 📱 **移动端支持**：网页版支持手机、平板访问
- 🎨 **美观界面**：现代化的网页界面设计
- 💬 **实时聊天**：支持Socket.IO实时通信
- 🔄 **多客户端**：桌面GUI + 网页双客户端支持

## 📁 项目结构

```
PythonProj/
├── core/                    # 核心模块
│   ├── config.py           # 配置文件
│   └── deepseek_api.py     # DeepSeek API调用模块
├── clients/                 # 客户端模块
│   └── chat_gui.py         # 桌面GUI客户端
├── web_client/             # 网页客户端
│   ├── app.py              # Flask服务器
│   └── templates/          # HTML模板
│       └── index.html      # 聊天界面
├── main.py                 # 主程序入口
├── requirements.txt        # 项目依赖
├── start.bat              # 桌面版启动脚本
├── start_web.bat          # 网页版启动脚本
└── README.md              # 项目说明
```

## 🛠️ 安装和配置

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 获取DeepSeek API密钥

1. 访问 [DeepSeek平台](https://platform.deepseek.com/)
2. 注册并登录账号
3. 在控制台中获取API密钥

### 3. 配置API密钥

编辑 `core/config.py` 文件，将你的API密钥填入：

```python
API_KEY = "你的API密钥"
```

## 🎯 使用方法

### 桌面GUI客户端

```bash
# 方法1：直接运行
python main.py --client gui

# 方法2：使用启动脚本
start.bat

# 方法3：默认启动GUI
python main.py
```

### 网页客户端

```bash
# 方法1：直接运行
python main.py --client web

# 方法2：指定端口
python main.py --client web --port 8080

# 方法3：使用启动脚本
start_web.bat
```

### 访问地址

- **本地访问**：http://localhost:5000
- **局域网访问**：http://你的IP地址:5000

## ✨ 功能特点

### 桌面GUI客户端
- 💕 **可爱的小女友预设**：活泼可爱的小女友角色
- 🎨 **美观的图形界面**：使用tkinter创建现代化界面
- 💾 **聊天历史管理**：支持保存和加载聊天记录
- 🔄 **对话重置**：可以随时重置对话
- ⌨️ **便捷操作**：支持Enter发送，Ctrl+Enter换行

### 网页客户端
- 🌐 **多用户支持**：支持多个用户同时聊天
- 📱 **移动端适配**：完美支持手机、平板访问
- 💬 **实时通信**：基于Socket.IO的实时聊天
- 🎨 **现代化界面**：美观的网页设计
- ⚡ **打字指示器**：实时显示AI正在思考
- 💾 **云端保存**：支持保存聊天记录到服务器

## 🎭 预设角色

程序预设了一个名为"小甜心"的活泼可爱小女友角色：

- **性格**：开朗、温柔、体贴
- **说话风格**：使用可爱的语气词（呢、啦、哦等）
- **关心程度**：会主动关心对方的心情和感受
- **互动方式**：会撒娇、开玩笑，但总是带着善意

## 🛡️ 安全特性

- **用户隔离**：每个用户有独立的会话
- **API密钥保护**：密钥存储在服务器端
- **局域网访问**：支持家庭/办公室局域网使用
- **错误处理**：完善的错误处理和提示

## 🔧 技术栈

### 核心模块
- **Python 3.7+**
- **requests**：HTTP请求库
- **json**：数据序列化

### 桌面客户端
- **tkinter**：图形用户界面

### 网页客户端
- **Flask**：Web框架
- **Flask-SocketIO**：实时通信
- **HTML5/CSS3/JavaScript**：前端技术

## 📋 使用说明

### 桌面版操作
- **发送消息**：在输入框中输入消息，按Enter键或点击"发送 💕"按钮
- **换行**：在输入框中按Ctrl+Enter可以换行
- **重置对话**：点击"🔄 重置对话"按钮清空聊天记录
- **保存对话**：点击"💾 保存对话"按钮保存当前聊天历史
- **加载对话**：点击"📂 加载对话"按钮加载之前的聊天记录

### 网页版操作
- **发送消息**：在输入框中输入消息，按Enter键或点击"发送 💕"按钮
- **换行**：在输入框中按Shift+Enter可以换行
- **重置对话**：点击"🔄 重置对话"按钮清空聊天记录
- **保存对话**：点击"💾 保存对话"按钮保存聊天记录
- **清空界面**：点击"🗑️ 清空界面"按钮清空显示的消息

## ⚠️ 注意事项

1. **网络连接**：确保网络连接正常，程序需要访问DeepSeek API
2. **API密钥**：请妥善保管API密钥，不要泄露给他人
3. **端口占用**：网页版默认使用5000端口，确保端口未被占用
4. **防火墙**：如果使用网页版，可能需要配置防火墙允许端口访问
5. **多用户**：网页版支持多用户同时使用，每个用户有独立的会话

## 🔍 故障排除

### 常见问题

1. **API密钥错误**
   - 检查core/config.py中的API_KEY是否正确设置
   - 确认API密钥是否有效

2. **网络连接问题**
   - 检查网络连接是否正常
   - 确认是否可以访问DeepSeek API

3. **网页服务器启动失败**
   - 检查端口5000是否被占用
   - 尝试使用其他端口：`python main.py --client web --port 8080`

4. **局域网访问问题**
   - 检查防火墙设置
   - 确认路由器配置允许局域网访问

5. **依赖安装问题**
   - 使用国内镜像源：`pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/`

## 📄 许可证

本项目仅供学习和个人使用。

## 📝 更新日志

### v2.0
- 🌐 新增网页客户端支持
- 📱 支持移动端访问
- 💬 实现实时聊天功能
- 🎨 重新设计项目结构
- 🔧 优化代码架构

### v1.0
- 初始版本发布
- 实现基本的聊天功能
- 添加小女友预设角色
- 支持聊天历史管理 